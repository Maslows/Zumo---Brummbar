<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>Zumo - Zumo Robot: ZumoAI.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Zumo - Zumo Robot
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('_zumo_a_i_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">ZumoAI.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="os_objects_8h_source.html">osObjects.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sonar_8h_source.html">sonar.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="servo_8h_source.html">servo.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="motors_8h_source.html">motors.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a203ad5b3d7880d5900282ede57474aae"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_zumo_a_i_8c.html#a203ad5b3d7880d5900282ede57474aae">Phase_t</a> { <a class="el" href="_zumo_a_i_8c.html#a203ad5b3d7880d5900282ede57474aaea92a9e26732399916612a1c9b10f3041e">FIND_ENEMY</a>, 
<a class="el" href="_zumo_a_i_8c.html#a203ad5b3d7880d5900282ede57474aaeac1770c933fbb7e701f9dcafe2772e349">TURN_TOWARD_ENEMY</a>, 
<a class="el" href="_zumo_a_i_8c.html#a203ad5b3d7880d5900282ede57474aaea4e7c1c21b6fbbb620bd79131aabc22ab">RAM</a>
 }</td></tr>
<tr class="separator:a203ad5b3d7880d5900282ede57474aae"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a86155b0b932d9e24b651d4a1b5410808"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_zumo_a_i_8c.html#a86155b0b932d9e24b651d4a1b5410808">Init_ZumoAI</a> (void)</td></tr>
<tr class="memdesc:a86155b0b932d9e24b651d4a1b5410808"><td class="mdescLeft">&#160;</td><td class="mdescRight">Thread ZumoAI initialization.  <a href="#a86155b0b932d9e24b651d4a1b5410808">More...</a><br /></td></tr>
<tr class="separator:a86155b0b932d9e24b651d4a1b5410808"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5bd273e53c04d29694effc7de5b527aa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_zumo_a_i_8c.html#a5bd273e53c04d29694effc7de5b527aa">Kill_ZumoAI</a> (void)</td></tr>
<tr class="memdesc:a5bd273e53c04d29694effc7de5b527aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Thread ZumoAI termination function.  <a href="#a5bd273e53c04d29694effc7de5b527aa">More...</a><br /></td></tr>
<tr class="separator:a5bd273e53c04d29694effc7de5b527aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd8c7c279b488b80270f8df81abb1ddc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_zumo_a_i_8c.html#a203ad5b3d7880d5900282ede57474aae">Phase_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_zumo_a_i_8c.html#afd8c7c279b488b80270f8df81abb1ddc">FindEnemy</a> (void)</td></tr>
<tr class="memdesc:afd8c7c279b488b80270f8df81abb1ddc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finding enemy phase This function checks if the servo is locked onto something. If sonar is not locked, make full sweep and rotate. Wait for sonar lock. If there is lock, break the loop and save enemy position.  <a href="#afd8c7c279b488b80270f8df81abb1ddc">More...</a><br /></td></tr>
<tr class="separator:afd8c7c279b488b80270f8df81abb1ddc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f4d769d253453359743f48773197b80"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_zumo_a_i_8c.html#a203ad5b3d7880d5900282ede57474aae">Phase_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_zumo_a_i_8c.html#a7f4d769d253453359743f48773197b80">TurnTowardEnemy</a> (void)</td></tr>
<tr class="memdesc:a7f4d769d253453359743f48773197b80"><td class="mdescLeft">&#160;</td><td class="mdescRight">Turning toward the enemy If the enemy is found, rotate towards it.  <a href="#a7f4d769d253453359743f48773197b80">More...</a><br /></td></tr>
<tr class="separator:a7f4d769d253453359743f48773197b80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac987616390d36481fabf9b95f488afff"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_zumo_a_i_8c.html#a203ad5b3d7880d5900282ede57474aae">Phase_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_zumo_a_i_8c.html#ac987616390d36481fabf9b95f488afff">Ram</a> (void)</td></tr>
<tr class="memdesc:ac987616390d36481fabf9b95f488afff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ram the enemy. Ram enemy by driving forward for given distace. Update distance toward enemy every 2 seconds if lock is not lost.  <a href="#ac987616390d36481fabf9b95f488afff">More...</a><br /></td></tr>
<tr class="separator:ac987616390d36481fabf9b95f488afff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada2d2e51053dbcc4f31d8b092dfc241b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_zumo_a_i_8c.html#ada2d2e51053dbcc4f31d8b092dfc241b">zumoAI</a> (void const *argument)</td></tr>
<tr class="memdesc:ada2d2e51053dbcc4f31d8b092dfc241b"><td class="mdescLeft">&#160;</td><td class="mdescRight">ZumoAI thread main loop.  <a href="#ada2d2e51053dbcc4f31d8b092dfc241b">More...</a><br /></td></tr>
<tr class="separator:ada2d2e51053dbcc4f31d8b092dfc241b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a3ffd9239a65221dc504594b4b85af920"><td class="memItemLeft" align="right" valign="top">osThreadId&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_zumo_a_i_8c.html#a3ffd9239a65221dc504594b4b85af920">tid_zumoAI</a></td></tr>
<tr class="separator:a3ffd9239a65221dc504594b4b85af920"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed5c43058a14b507e0ef5577932fcc85"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_zumo_a_i_8c.html#aed5c43058a14b507e0ef5577932fcc85">EnemyDistance</a></td></tr>
<tr class="separator:aed5c43058a14b507e0ef5577932fcc85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a019cf8a6e74fc37ed60e54766a46c70d"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_zumo_a_i_8c.html#a019cf8a6e74fc37ed60e54766a46c70d">EnemyAngle</a></td></tr>
<tr class="separator:a019cf8a6e74fc37ed60e54766a46c70d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="a203ad5b3d7880d5900282ede57474aae"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="_zumo_a_i_8c.html#a203ad5b3d7880d5900282ede57474aae">Phase_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="a203ad5b3d7880d5900282ede57474aaea92a9e26732399916612a1c9b10f3041e"></a>FIND_ENEMY&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a203ad5b3d7880d5900282ede57474aaeac1770c933fbb7e701f9dcafe2772e349"></a>TURN_TOWARD_ENEMY&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a203ad5b3d7880d5900282ede57474aaea4e7c1c21b6fbbb620bd79131aabc22ab"></a>RAM&#160;</td><td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="afd8c7c279b488b80270f8df81abb1ddc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_zumo_a_i_8c.html#a203ad5b3d7880d5900282ede57474aae">Phase_t</a> FindEnemy </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Finding enemy phase This function checks if the servo is locked onto something. If sonar is not locked, make full sweep and rotate. Wait for sonar lock. If there is lock, break the loop and save enemy position. </p>

</div>
</div>
<a class="anchor" id="a86155b0b932d9e24b651d4a1b5410808"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Init_ZumoAI </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Thread ZumoAI initialization. </p>

</div>
</div>
<a class="anchor" id="a5bd273e53c04d29694effc7de5b527aa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Kill_ZumoAI </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Thread ZumoAI termination function. </p>

</div>
</div>
<a class="anchor" id="ac987616390d36481fabf9b95f488afff"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_zumo_a_i_8c.html#a203ad5b3d7880d5900282ede57474aae">Phase_t</a> Ram </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Ram the enemy. Ram enemy by driving forward for given distace. Update distance toward enemy every 2 seconds if lock is not lost. </p>

</div>
</div>
<a class="anchor" id="a7f4d769d253453359743f48773197b80"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_zumo_a_i_8c.html#a203ad5b3d7880d5900282ede57474aae">Phase_t</a> TurnTowardEnemy </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Turning toward the enemy If the enemy is found, rotate towards it. </p>

</div>
</div>
<a class="anchor" id="ada2d2e51053dbcc4f31d8b092dfc241b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void zumoAI </td>
          <td>(</td>
          <td class="paramtype">void const *&#160;</td>
          <td class="paramname"><em>argument</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>ZumoAI thread main loop. </p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a019cf8a6e74fc37ed60e54766a46c70d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t EnemyAngle</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aed5c43058a14b507e0ef5577932fcc85"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t EnemyDistance</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a3ffd9239a65221dc504594b4b85af920"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">osThreadId tid_zumoAI</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_4f4e1d0d1b3a8f542ba9cdb565a509cc.html">Brummbar</a></li><li class="navelem"><a class="el" href="_zumo_a_i_8c.html">ZumoAI.c</a></li>
    <li class="footer">Generated on Sun Mar 1 2015 20:52:53 for Zumo - Zumo Robot by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.9.1 </li>
  </ul>
</div>
</body>
</html>
